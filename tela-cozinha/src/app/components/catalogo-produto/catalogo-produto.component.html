<div class="catalogo">
    <h2>Catálogo de Produtos</h2>

    <!-- Formulário para adicionar novo produto -->
    <form (ngSubmit)="adicionarProduto()" #produtoForm="ngForm">
      <input [(ngModel)]="novoProduto.nome" name="nome" placeholder="Nome" required>
      <input [(ngModel)]="novoProduto.descricao" name="descricao" placeholder="Descrição">
      <input [(ngModel)]="novoProduto.valor" name="valor" placeholder="Valor" required>
      <input [(ngModel)]="novoProduto.imagem" name="imagem" placeholder="URL da Imagem" required>
      <button type="submit" [disabled]="!produtoForm.form.valid">Adicionar Produto</button>
    </form>

    <!-- Lista de produtos -->
    <table>
      <thead>
        <tr>
          <th>Nome</th>
          <th>Descrição</th>
          <th>Valor</th>
          <th>Imagem</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let produto of produtos">
          <td>{{produto.nome}}</td>
          <td>{{produto.descricao}}</td>
          <td>R$ {{produto.valor}}</td>
          <td><img [src]="produto.imagem" alt="{{produto.nome}}" width="50"></td>
          <td>
            <button (click)="editarProduto(produto)">Editar</button>
            <button (click)="excluirProduto(produto.id)">Excluir</button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Formulário de edição -->
    <div *ngIf="editandoProduto">
      <h3>Editando Produto</h3>
      <form (ngSubmit)="salvarEdicao()">
        <input [(ngModel)]="editandoProduto.nome" name="nome" placeholder="Nome" required>
        <input [(ngModel)]="editandoProduto.descricao" name="descricao" placeholder="Descrição">
        <input [(ngModel)]="editandoProduto.valor" name="valor" placeholder="Valor" required>
        <input [(ngModel)]="editandoProduto.imagem" name="imagem" placeholder="URL da Imagem" required>
        <button type="submit">Salvar</button>
        <button type="button" (click)="cancelarEdicao()">Cancelar</button>
      </form>
    </div>
</div>
